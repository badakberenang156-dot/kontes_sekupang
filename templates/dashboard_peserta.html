<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Peserta</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        body { background-color: #fff1f2; font-family: 'Poppins', sans-serif; }
        
        /* Sidebar Styling */
        .sidebar {
            background: linear-gradient(180deg, #be123c 0%, #881337 100%); 
            min-height: 100vh;
            color: white;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
        }
        .nav-link { color: rgba(255,255,255,0.8); margin-bottom: 5px; padding: 12px 20px; border-radius: 8px; transition: all 0.3s; cursor: pointer; }
        .nav-link:hover, .nav-link.active-tab { background-color: rgba(255,255,255,0.2); color: white; transform: translateX(5px); font-weight: bold; }
        
        .main-content { padding: 30px; }
        
        /* Profile & Cards */
        .profile-card { background: white; border-radius: 20px; padding: 30px; text-align: center; box-shadow: 0 10px 25px rgba(0,0,0,0.05); height: 100%; }
        .profile-img-large { width: 150px; height: 150px; object-fit: cover; object-position: 50% 5%; border-radius: 50%; border: 5px solid #be123c; margin-bottom: 20px; box-shadow: 0 5px 15px rgba(190, 18, 60, 0.3); }
        .header-profile-img { width: 40px; height: 40px; object-fit: cover; object-position: 50% 5%; border-radius: 50%; margin-right: 10px; border: 2px solid #be123c; }
        .stat-card { background: white; border-radius: 15px; padding: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); border: none; transition: transform 0.2s, box-shadow 0.2s; }
        .stat-card:hover { transform: translateY(-5px); }
        
        /* Interactive Elements */
        .interactive-card { cursor: pointer; position: relative; overflow: hidden; }
        .interactive-card:hover { box-shadow: 0 10px 20px rgba(190, 18, 60, 0.15); border: 1px solid rgba(190, 18, 60, 0.2); }
        .interactive-card::after { content: '\f0a9'; font-family: "Font Awesome 6 Free"; font-weight: 900; position: absolute; top: 10px; right: 10px; opacity: 0; transition: opacity 0.2s; color: #be123c; }
        .interactive-card:hover::after { opacity: 1; }
        .score-display { font-size: 2.5rem; font-weight: bold; color: #be123c; }
        .table-container { background: white; border-radius: 15px; padding: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        
        /* Timeline */
        .timeline-item { position: relative; padding-left: 30px; margin-bottom: 20px; }
        .timeline-item::before { content: ''; position: absolute; left: 0; top: 5px; width: 12px; height: 12px; border-radius: 50%; background: #dee2e6; }
        .timeline-item.active::before { background: #198754; box-shadow: 0 0 0 3px rgba(25, 135, 84, 0.2); }
        .timeline-item.current::before { background: #dc3545; box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.2); }
        .timeline-item:not(:last-child)::after { content: ''; position: absolute; left: 5px; top: 17px; width: 2px; height: 100%; background: #e9ecef; }
        
        .fade-in { animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .chart-highlight-box { border-left: 4px solid #be123c; background: #fff5f7; padding: 15px; border-radius: 0 10px 10px 0; }

        /* PRINT STYLES */
        @media print {
            body * { visibility: hidden; }
            .sidebar, .main-content, .modal-header, .modal-footer, .btn-close, .btn { display: none !important; }
            #printableArea, #printableArea * { visibility: visible; }
            
            #detailModal {
                position: absolute !important; left: 0 !important; top: 0 !important;
                width: 100% !important; height: auto !important;
                margin: 0 !important; padding: 0 !important;
                background: white !important; overflow: visible !important;
            }
            .modal-dialog { max-width: 100% !important; width: 100% !important; margin: 0 !important; transform: none !important; }
            .modal-content { border: none !important; box-shadow: none !important; height: auto !important; overflow: visible !important; }
            .modal-body, .modal-dialog-scrollable .modal-body { overflow: visible !important; max-height: none !important; height: auto !important; display: block !important; }
            .table-responsive { overflow: visible !important; display: block !important; }

            .table-print {
                width: 100% !important; border-collapse: collapse !important; border: 2px solid #000 !important;
                font-family: Arial, sans-serif !important; font-size: 11pt !important; margin-top: 20px;
            }
            .table-print th, .table-print td { border: 1px solid #000 !important; padding: 8px 12px !important; color: #000 !important; }
            .table-print thead th {
                background-color: #d1d5db !important; color: #000 !important;
                -webkit-print-color-adjust: exact; print-color-adjust: exact;
                text-align: center; font-weight: bold; border-bottom: 2px solid #000 !important;
            }
            tr { page-break-inside: avoid; }
        }
    </style>
</head>
<body>

<div class="container-fluid">
    <div class="row">
        
        <div class="col-md-2 sidebar p-4 d-flex flex-column justify-content-between">
            <div>
                <h4 class="mb-4 text-center fw-bold"><i class="fas fa-crown text-warning me-2"></i>PESERTA</h4>
                <div class="card border-0 bg-white bg-opacity-10 text-white mb-4 p-3 rounded-3 text-center">
                    <small class="text-uppercase opacity-75" style="font-size: 0.7rem;">Peringkat Saat Ini</small>
                    <h2 class="fw-bold mb-0 text-warning">#{{ my_rank }}</h2>
                    <small class="text-light">{{ total_skor }} Poin</small>
                </div>
                
                <nav class="nav flex-column gap-2">
                    <p class="text-white-50 text-uppercase fw-bold mb-1" style="font-size: 0.75rem; letter-spacing: 1px;">Menu Utama</p>
                    <a onclick="showTab('ringkasan')" class="nav-link active-tab" id="btn-ringkasan"><i class="fas fa-chart-line me-2"></i> Ringkasan</a>
                    <a onclick="showTab('grafik')" class="nav-link" id="btn-grafik"><i class="fas fa-chart-bar me-2"></i> Grafik Vote</a>
                    <a onclick="showTab('log')" class="nav-link" id="btn-log"><i class="fas fa-list-ol me-2"></i> Log Nilai</a>
                    
                    <div class="my-2 border-top border-white opacity-25"></div>
                    
                    <p class="text-white-50 text-uppercase fw-bold mb-1 mt-2" style="font-size: 0.75rem; letter-spacing: 1px;">Kompetisi</p>
                    <a href="{{ url_for('leaderboard_peserta') }}" class="nav-link text-white bg-transparent"><i class="fas fa-trophy me-2"></i> Leaderboard</a>
                    
                    <a href="{{ url_for('profil') }}" class="nav-link text-white bg-transparent"><i class="fas fa-user-circle me-2"></i> Profil Saya</a>
                    
                    <a href="#" class="nav-link text-white bg-transparent" data-bs-toggle="modal" data-bs-target="#infoModal"><i class="fas fa-info-circle me-2"></i> Info Penilaian</a>
                </nav>
            </div>
            <div class="mt-4">
                <a href="{{ url_for('logout') }}" class="btn btn-danger w-100 fw-bold shadow-sm" style="background: #9f1239; border: none;"><i class="fas fa-sign-out-alt me-2"></i> Logout</a>
                <small class="d-block text-center text-white-50 mt-3" style="font-size: 0.7rem;">&copy; 2025 Idola Karbit</small>
            </div>
        </div>

        <div class="col-md-10 main-content">
            <div class="d-flex justify-content-between align-items-center mb-5">
                <div>
                    <h2 class="fw-bold text-dark">Dashboard Peserta</h2>
                    <p class="text-muted mb-0">Pantau perolehan nilaimu secara real-time.</p>
                </div>
                
                <a href="{{ url_for('profil') }}" class="text-decoration-none">
                    <div class="d-flex align-items-center bg-white px-3 py-2 rounded-pill shadow-sm interactive-card">
                        <img src="{{ url_for('static', filename=user_foto) }}" class="header-profile-img">
                        <span class="fw-bold text-danger">{{ user }}</span>
                    </div>
                </a>
            </div>

            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="profile-card">
                        <img src="{{ url_for('static', filename=user_foto) }}" class="profile-img-large">
                        <h3 class="fw-bold">{{ user }}</h3>
                        <p class="text-muted badge bg-light text-dark border mt-2 mb-3">Peserta Kontes</p>
                        <div class="alert alert-danger bg-opacity-10 border-0">
                            <small class="text-uppercase text-danger fw-bold">Peringkat Saat Ini</small>
                            <h1 class="display-3 fw-bold text-danger mb-0">#{{ my_rank }}</h1>
                        </div>
                        <hr class="my-4">
                        <div class="text-start"><small class="text-muted d-block mb-1">Total Poin:</small><h2 class="fw-bold text-dark">{{ total_skor }}</h2></div>
                    </div>
                </div>

                <div class="col-md-8 position-relative">
                    
                    <div id="view-ringkasan" class="tab-content fade-in">
                        <div class="row g-3 mb-4">
                            <div class="col-md-6"><div class="stat-card interactive-card" onclick="showTab('log')"><div class="d-flex justify-content-between align-items-center"><div><h6 class="text-muted text-uppercase mb-1">Rata-rata Nilai</h6><div class="score-display">{{ "%.2f"|format(rata_rata) }}</div><small class="text-primary">Lihat Detail <i class="fas fa-arrow-right"></i></small></div><i class="fas fa-chart-pie fa-3x text-danger opacity-25"></i></div></div></div>
                            <div class="col-md-6"><div class="stat-card interactive-card" onclick="showTab('grafik')"><div class="d-flex justify-content-between align-items-center"><div><h6 class="text-muted text-uppercase mb-1">Vote Masuk</h6><div class="score-display text-warning">{{ jumlah_juri }}</div><small class="text-primary">Lihat Grafik <i class="fas fa-arrow-right"></i></small></div><i class="fas fa-vote-yea fa-3x text-warning opacity-25"></i></div></div></div>
                        </div>
                        
                        <div class="stat-card interactive-card mb-4" onclick="showTab('log')">
                            <h5 class="fw-bold mb-3"><i class="fas fa-tachometer-alt me-2 text-secondary"></i>Performa Penilaian</h5>
                            
                            {% for p in performa_kategori %}
                            <div class="mb-3">
                                <div class="d-flex justify-content-between mb-1">
                                    <small class="fw-bold text-muted">
                                        {{ p['nama'] }} 
                                        <span class="badge bg-light text-secondary border ms-1 rounded-pill" style="font-size: 0.7rem;">Ronde {{ loop.index }}</span>
                                    </small>
                                    <small class="fw-bold text-dark">{{ "%.1f"|format(p['avg']) }}/5.0</small>
                                </div>
                                <div class="progress" style="height: 8px;">
                                    <div class="progress-bar {% if loop.index == 1 %}bg-success{% elif loop.index == 2 %}bg-warning{% else %}bg-danger{% endif %}" 
                                         style="width: {{ p['persen'] }}%"></div>
                                </div>
                            </div>
                            {% else %}
                            <p class="text-muted small text-center py-3">Belum ada kategori penilaian.</p>
                            {% endfor %}
                            
                        </div>

                        <div class="row g-3">
                            <div class="col-md-7"><div class="stat-card h-100"><h6 class="text-muted text-uppercase mb-3 fw-bold">Pencapaian</h6><div class="d-flex justify-content-around text-center mt-4"><div><i class="fas fa-trophy fa-2x text-warning mb-2"></i><br><small class="fw-bold">Top 3</small></div><div><i class="fas fa-fire fa-2x text-danger mb-2"></i><br><small class="fw-bold">Hot Shot</small></div><div><i class="fas fa-star fa-2x text-primary mb-2"></i><br><small class="fw-bold">Favorit</small></div></div></div></div>
                            
                            <div class="col-md-5">
                                <div class="stat-card h-100">
                                    <h6 class="text-muted text-uppercase mb-3 fw-bold">Status</h6>
                                    <div class="ps-1">
                                        <div class="timeline-item active">
                                            <div class="text-success fw-bold" style="line-height: 1.2;">Registrasi</div>
                                            <small class="text-muted" style="font-size: 0.75rem;">Selesai</small>
                                        </div>
                                        <div class="timeline-item active">
                                            <div class="text-success fw-bold" style="line-height: 1.2;">Grand Final</div>
                                            <small class="text-muted" style="font-size: 0.75rem;">Selesai</small>
                                        </div>
                                        <div class="timeline-item current">
                                            <div class="text-danger fw-bold" style="line-height: 1.2;">Pengumuman</div>
                                            <small class="text-danger opacity-75" style="font-size: 0.75rem;">Segera Dirilis</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                    </div>

                    <div id="view-grafik" class="tab-content fade-in d-none">
                        <div class="row g-3 mb-4">
                            <div class="col-md-4">
                                <div class="bg-white p-3 rounded-3 shadow-sm border-bottom border-4 border-success text-center h-100 d-flex flex-column justify-content-center">
                                    <small class="text-uppercase text-muted fw-bold" style="font-size: 0.7rem;">Dukungan Tertinggi</small>
                                    <div id="highest-score-text" class="fw-bold text-success mt-1">-</div>
                                    <small id="highest-score-val">0</small>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="bg-white p-3 rounded-3 shadow-sm border-bottom border-4 border-danger text-center h-100 d-flex flex-column justify-content-center">
                                    <small class="text-uppercase text-muted fw-bold" style="font-size: 0.7rem;">Dukungan Terendah</small>
                                    <div id="lowest-score-text" class="fw-bold text-danger mt-1">-</div>
                                    <small id="lowest-score-val">0</small>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="bg-white p-3 rounded-3 shadow-sm border-bottom border-4 border-primary text-center h-100 d-flex flex-column justify-content-center">
                                    <small class="text-uppercase text-muted fw-bold" style="font-size: 0.7rem;">Partisipasi Juri</small>
                                    <div id="total-juri-val" class="fw-bold text-primary mt-1">-</div>
                                </div>
                            </div>
                        </div>
                        <div class="table-container mb-4"><h5 class="fw-bold mb-3">Grafik Dukungan</h5><div style="height: 300px;"><canvas id="pesertaChart"></canvas></div></div>
                    </div>

                    <div id="view-log" class="tab-content fade-in d-none">
                        <div class="table-container">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h5 class="fw-bold mb-0"><i class="fas fa-list-alt me-2"></i>Log Penilaian Masuk</h5>
                                <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#detailModal">
                                    <i class="fas fa-expand me-1"></i> Lihat Detail & Cetak
                                </button>
                            </div>
                            <div class="table-responsive" style="max-height: 400px; overflow-y: auto;">
                                <table class="table table-hover align-middle">
                                    <thead class="table-light sticky-top">
                                        <tr><th>Juri</th><th>Ronde</th><th>Sub</th><th class="text-center">Nilai</th></tr>
                                    </thead>
                                    <tbody>
                                        {% for nilai in detail_nilai %}
                                        <tr>
                                            <td><span class="badge bg-secondary rounded-pill">{{ nilai['nama_juri'] }}</span></td>
                                            <td>Round {{ nilai['round'] }}</td>
                                            <td>Sub {{ nilai['sub_round'] }}</td>
                                            <td class="text-center">
                                                {% if nilai['nilai'] >= 4 %}<span class="badge bg-success">{{ nilai['nilai'] }}</span>
                                                {% elif nilai['nilai'] == 3 %}<span class="badge bg-warning text-dark">{{ nilai['nilai'] }}</span>
                                                {% else %}<span class="badge bg-danger">{{ nilai['nilai'] }}</span>{% endif %}
                                            </td>
                                        </tr>
                                        {% else %}
                                        <tr><td colspan="4" class="text-center py-4 text-muted">Belum ada penilaian.</td></tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="detailModal" tabindex="-1" aria-hidden="true"><div class="modal-dialog modal-lg modal-dialog-scrollable"><div class="modal-content"><div class="modal-header bg-primary text-white"><h5 class="modal-title fw-bold"><i class="fas fa-file-alt me-2"></i>Laporan Hasil Penilaian</h5><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button></div><div class="modal-body p-5" id="printableArea"><div class="text-center mb-4 border-bottom pb-3"><h3 class="fw-bold mb-1">HASIL PENILAIAN KOMPETISI</h3><p class="text-muted mb-0">Idola Karbit 2025 - Official Report</p></div><div class="row mb-4"><div class="col-2 text-center"><img src="{{ url_for('static', filename=user_foto) }}" class="rounded-circle border" style="width: 80px; height: 80px; object-fit: cover;"></div><div class="col-10 d-flex flex-column justify-content-center"><h4 class="fw-bold mb-0">{{ user }}</h4><div class="text-muted">ID Peserta: #{{ session['user_id'] }}</div><div class="mt-1 d-flex gap-2"><span class="badge bg-danger rounded-0 border border-dark text-dark bg-opacity-25">Rank #{{ my_rank }}</span><span class="badge bg-light rounded-0 border border-dark text-dark">Total: {{ total_skor }}</span></div></div></div><h5 class="fw-bold mb-2 ps-1">Rincian Nilai Masuk:</h5><div class="table-responsive"><table class="table-print"><thead><tr><th style="width: 50px;">No</th><th>Nama Juri</th><th>Ronde Kompetisi</th><th>Sub Sesi</th><th style="width: 80px;" class="text-center">Nilai</th></tr></thead><tbody>{% for nilai in detail_nilai %}<tr><td class="text-center">{{ loop.index }}</td><td class="fw-bold">{{ nilai['nama_juri'] }}</td><td>Ronde {{ nilai['round'] }}</td><td>{{ nilai['sub_round'] }}</td><td class="text-center fw-bold">{{ nilai['nilai'] }}</td></tr>{% else %}<tr><td colspan="5" class="text-center">Data tidak tersedia.</td></tr>{% endfor %}</tbody></table></div><div class="mt-5 pt-4 text-end"><p class="mb-5">Mengetahui,<br>Panitia Penyelenggara</p><p class="fw-bold text-decoration-underline">Admin Idola Karbit</p></div></div><div class="modal-footer bg-light"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Tutup</button><button type="button" class="btn btn-success" onclick="window.print()"><i class="fas fa-print me-2"></i> Cetak Laporan</button></div></div></div></div>

<div class="modal fade" id="infoModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0 shadow-lg rounded-4">
            
            <div class="modal-header text-white" style="background: linear-gradient(135deg, #be123c 0%, #881337 100%); border-bottom: 4px solid #fbbf24;">
                <h5 class="modal-title fw-bold">
                    <i class="fas fa-book-open me-2"></i>Panduan & Kriteria Penilaian
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            
            <div class="modal-body p-4">
                <div class="row g-4">
                    <div class="col-md-6 border-end">
                        <h6 class="fw-bold text-danger mb-3 text-uppercase">
                            <i class="fas fa-star-half-alt me-2"></i>Skala Skor (1-5)
                        </h6>
                        <div class="d-flex flex-column gap-2">
                            <div class="d-flex align-items-center bg-light p-2 rounded border">
                                <span class="badge bg-success me-3" style="width: 40px; font-size: 1rem;">5</span>
                                <div>
                                    <strong class="text-dark">Sempurna (Perfect)</strong>
                                    <div class="text-muted small">Eksekusi tanpa cela, memukau.</div>
                                </div>
                            </div>
                            <div class="d-flex align-items-center bg-light p-2 rounded border">
                                <span class="badge bg-primary me-3" style="width: 40px; font-size: 1rem;">4</span>
                                <div>
                                    <strong class="text-dark">Sangat Baik (Excellent)</strong>
                                    <div class="text-muted small">Teknik kuat, sedikit kesalahan minor.</div>
                                </div>
                            </div>
                            <div class="d-flex align-items-center bg-light p-2 rounded border">
                                <span class="badge bg-info text-dark me-3" style="width: 40px; font-size: 1rem;">3</span>
                                <div>
                                    <strong class="text-dark">Cukup (Average)</strong>
                                    <div class="text-muted small">Penampilan standar, memenuhi syarat dasar.</div>
                                </div>
                            </div>
                            <div class="d-flex align-items-center bg-light p-2 rounded border">
                                <span class="badge bg-warning text-dark me-3" style="width: 40px; font-size: 1rem;">2</span>
                                <div>
                                    <strong class="text-dark">Kurang (Poor)</strong>
                                    <div class="text-muted small">Banyak kesalahan, perlu latihan lagi.</div>
                                </div>
                            </div>
                            <div class="d-flex align-items-center bg-light p-2 rounded border">
                                <span class="badge bg-danger me-3" style="width: 40px; font-size: 1rem;">1</span>
                                <div>
                                    <strong class="text-dark">Sangat Kurang (Bad)</strong>
                                    <div class="text-muted small">Gagal mengeksekusi penampilan.</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="mb-4">
                            <h6 class="fw-bold text-danger mb-3 text-uppercase">
                                <i class="fas fa-list-check me-2"></i>Aspek Penilaian
                            </h6>
                            <ul class="list-group list-group-flush small">
                                {% for p in performa_kategori %}
                                <li class="list-group-item d-flex justify-content-between align-items-center px-0">
                                    <span>
                                        <i class="fas fa-tag text-secondary me-2"></i>
                                        {{ p['nama'] }}
                                    </span>
                                    <span class="badge bg-secondary rounded-pill">Max 5.0 Poin</span>
                                </li>
                                {% else %}
                                <li class="list-group-item text-muted text-center">Belum ada kategori.</li>
                                {% endfor %}
                            </ul>
                        </div>

                        <div class="alert alert-warning border-0 d-flex align-items-start mb-0">
                            <i class="fas fa-exclamation-triangle mt-1 me-3"></i>
                            <div class="small">
                                <strong>Catatan Penting:</strong><br>
                                Nilai bersifat <em>Real-time</em>. Skor dapat berubah sewaktu-waktu jika Juri melakukan revisi sebelum batas waktu ronde berakhir.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer bg-light border-0">
                <button type="button" class="btn btn-secondary rounded-pill px-4 fw-bold" data-bs-dismiss="modal">Saya Mengerti</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    const labels = JSON.parse('{{ chart_labels | safe }}');
    const values = JSON.parse('{{ chart_values | safe }}');

    if (values.length > 0) {
        const maxVal = Math.max(...values);
        const minVal = Math.min(...values);
        document.getElementById('highest-score-text').innerText = labels[values.indexOf(maxVal)];
        document.getElementById('highest-score-val').innerText = maxVal + " Poin";
        document.getElementById('lowest-score-text').innerText = labels[values.indexOf(minVal)];
        document.getElementById('lowest-score-val').innerText = minVal + " Poin";
        document.getElementById('total-juri-val').innerText = labels.length + " Orang";
    }

    const ctx = document.getElementById('pesertaChart').getContext('2d');
    new Chart(ctx, { type: 'bar', data: { labels: labels, datasets: [{ label: 'Poin', data: values, backgroundColor: ['#be123c', '#fbbf24', '#f43f5e', '#881337'], borderRadius: 5 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true } } } });

    function showTab(tabName) {
        document.getElementById('view-ringkasan').classList.add('d-none');
        document.getElementById('view-grafik').classList.add('d-none');
        document.getElementById('view-log').classList.add('d-none');
        document.getElementById('btn-ringkasan').classList.remove('active-tab');
        document.getElementById('btn-grafik').classList.remove('active-tab');
        document.getElementById('btn-log').classList.remove('active-tab');
        document.getElementById('view-' + tabName).classList.remove('d-none');
        document.getElementById('btn-' + tabName).classList.add('active-tab');
    }
</script>
</body>
</html>