<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Papan Skor Juara</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* CSS KHUSUS HALAMAN INI */
        body { background-color: #f4f6f8; overflow-y: auto; }
        .container-skor { max-width: 1000px; margin: 100px auto; padding: 20px; text-align: center; }
        .card-grid { display: flex; justify-content: center; align-items: flex-end; gap: 20px; flex-wrap: wrap; margin-top: 50px; }
        
        .card { background: white; padding: 20px; border-radius: 15px; width: 250px; box-shadow: 0 10px 20px rgba(0,0,0,0.1); position: relative; }
        
        /* LOGIKA PODIUM */
        .rank-1 { height: 420px; border: 4px solid #ffd700; order: 2; z-index: 2; transform: scale(1.05); }
        .rank-2 { height: 350px; border-top: 5px solid #c0c0c0; order: 1; }
        .rank-3 { height: 320px; border-top: 5px solid #cd7f32; order: 3; }
        
        .foto-box { height: 200px; overflow: hidden; border-radius: 10px; margin-bottom: 15px; }
        .foto-box img { width: 100%; height: 100%; object-fit: cover; }
        
        .badge-rank { position: absolute; top: -15px; right: -15px; background: #333; color: white; padding: 10px; border-radius: 50%; font-weight: bold; width: 40px; height: 40px; display:flex; align-items:center; justify-content:center; }
        .rank-1 .badge-rank { background: #ffd700; color: #4a148c; width: 50px; height: 50px; font-size: 1.5rem; }
        
        .score { font-size: 1.5rem; color: #2e7d32; font-weight: 800; margin-top: 10px; }
    </style>
</head>
<body>

    <nav class="navbar" style="background: linear-gradient(135deg, #7c4dff, #512da8); position:relative;">
        <div class="logo">HALL OF FAME</div>
        <div class="nav-links">
            <a href="/" style="color:white;">Beranda</a>
            <a href="{{ url_for('logout') }}" class="btn-login" style="background:red; color:white !important;">LOGOUT</a>
        </div>
    </nav>

    <div class="container-skor">
        <h1 style="color: #4a148c; font-weight: 800;">üèÜ HASIL PENILAIAN üèÜ</h1>
        <p>Data Real-time dari Database</p>

        <div class="card-grid">
            {% for row in rekap %}
                <div class="card rank-{{ row['peringkat'] }}">
                    <div class="badge-rank">#{{ row['peringkat'] }}</div>
                    
                    <div class="foto-box">
                        <img src="{{ url_for('static', filename=(row['foto'] if row['foto'] else 'default.jpg')) }}">
                    </div>
                    
                    <h3>{{ row['nama_peserta'] }}</h3>
                    <div class="score">{{ row['total'] }} Poin</div>
                </div>
            {% endfor %}
        </div>
    </div>

</body>
</html>